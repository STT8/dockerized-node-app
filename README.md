## Исходные данные
Предоставлен исходный код 2-х сервисов:
- Frontend (SPA)
- Backend (API)

В совокупности представляют собой WEB-приложение

## Особенности каждого сервиса

Оба сервиса написаны на TypeScript, WEB-приложению более 5-ти лет.

Оба сервиса используют NodeJS v12 для этого есть соответствующий файл .nvmrc в каждом сервисе.

Backend использует MongoDb и предварительная инициализация данных не нужна.

### Backend (API)

- Backend использует в качестве БД MongoDb (версия не важна, можно взять последнюю)
- Все маршруты к endpoint API начинаются с /
- Для production режима необходимо выполнить сборку в JavaScript, результат сборки будет в директории dist/
- Конфигурация для production находится в директории src/environment/environment.prod.ts но при сборке автоматически файл не используется
- Backend использует WebSocket, а именно библиотеку socket.io соответственно путь к ее подключению имеет endpoint /socket.io/

### Frontend (SPA)

- Frontend при сборке в production режиме сам подставляет конфигурационный файл src/environment/environment.prod.ts автоматически
- Все маршруты к endpoint начинаются с /
- Frontend подключается к Backend по WebSocket используя библиотеку socket.io
- Сервис является SPA соответственно все запросы на Frontend в том числе ошибки 404 должны быть им отрисованны
- Для production режима необходимо выполнить сборку в JavaScript, результат сборки будет в директории dist/questionnaire-backend/

### Структура проекта.

- Был добавлен Dockerfile для backend, с использованием multi-stage build.Stage 1 компиляция кода из TypeScript в JavaScript. Stage 2 скомпилированный 
код переносится в чистый базовый образ. Это позволило исключить из образа исходный код и кеш компилятора, уменшив размер образа и повысив безопасность
- Был добавлен Dockerfile для frontend, с использованием multi-stage build. Stage 1 установка зависимостей и сборка prod приложения. Stage 2 за основу берется 
базовый образ nginx, настроено проксирование запросов, зависимости для NodeJS не устанавливаются, так как код выполняется браузером пользователя
- Разработан docker compose файл для автоматизированного развертывания всего стека приложений, настроена изолированная сеть app-network позволяющая контейнерам общаться 
по DNS именам, интегрирован сервис базы данных mongodb для BE.

### Запуск 

- Для корректной работы приложения, нужно чтобы был настроен Resolve ДНС записи questionnaire.local в Ip адрес хоста на котором данное ПО запущено
- Убедитесь, что вы находитесь в корневой директории проекта выполните команду docker compose up -d --build, важно, проект использует 80 порт, необходимо убедиться, что
его открытие доступно пользователю от которого выполняется команда
- После успешного запуска приложение будет доступно по адресу questionnaire.local